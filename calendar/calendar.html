<!DOCTYPE html>
<html>
   <head>
   </head>
   <body>
      <script type="text/javascript">
         // Sets this month's last day, first day, today.
         const now = dateObject();
         const lastday = dateObject(now.year, now.month+1, 0); // The next month's first day -1.
         const firstday = dateObject(now.year, now.month, 1);

         // Sets days of week.
         const weeks = ["Sun", "Mon", "Tues", "Wed", "Thurs", "Fri", "Sat"];

         // Sets maximum date for a month.
         const dates = [1, 2, 3, 4, 5, 6, 7,
            8, 9, 10, 11, 12, 13, 14,
            15, 16, 17, 18, 19, 20, 21,
            22, 23, 24, 25, 26, 27, 28,
            29, 30, 31];

         function dateObject(){
            arguments.length? 
               (arguments[2] == 0 && arguments[1] == 12?
                  this.date = new Date(arguments[0]+1, arguments[1], arguments[2]):
                  this.date = new Date(arguments[0], arguments[1], arguments[2])):
               this.date = new Date();

            return {
               year: this.date.getUTCFullYear(),
               month: arguments.length?this.date.getMonth() + 1:this.date.getMonth(),
               date: this.date.getDate(),
               day: this.date.getDay()
            }
         }
         // Make date iterator. 
         var iter = function* () {
            var index = 0;
            while(dates[index] <= lastday.date){
               yield dates[index++];
            }
         }
         var iterator = iter();

         // Change page title to today's date.
         const titleText = "<title>* " + (now.month+1) + "/" + now.date + "/" + now.year + " *</title>";
         document.head.insertAdjacentHTML("afterbegin", titleText);

         // Page Starts Here
         var titleBox = document.createElement("div");
         titleBox.id = "titleBox";

         var calendarBox = document.createElement("div");
         calendarBox.id = "calendarBox";
         calendarBox.setAttribute("align", "center");

         var today = document.createElement("p");
         today.id = "today";
         today.style.cssText = "color: blue;\
                               background-color:darkblue;\
                               text-align:center";
         var todayLine = document.createTextNode((now.month+1) + "/" + now.date + "/" + now.year);

         var days = document.createElement("p");
         days.id = "days";
         days.style.cssText = "color: yellow;\
                               background-color: black";
         var daysTable = document.createElement("table");
         daysTable.width = 300;
         var daysRow = daysTable.insertRow();
         for(x of weeks){
            daysRow.insertCell().innerHTML = x;
         }

         var date = document.createElement("p");
         date.id = "date";
         var dateTable = document.createElement("table");
         dateTable.width = 300;
         for(var i = 0; i <= 5;i++){
            var dateRow = dateTable.insertRow();
            
            for(var j=0; j < 7;j++){
               if(i == 0 && j < firstday.day){
                  dateRow.insertCell().innerHTML = "";
               }else{
                  var number = iterator.next().value;
                  if(number != undefined && number <= lastday.date)
                     dateRow.insertCell().innerHTML = number; 
                  else
                     break;
               }
            }
         }

         today.appendChild(todayLine);
         titleBox.appendChild(today);
         days.appendChild(daysTable);
         date.appendChild(dateTable);
         calendarBox.appendChild(days);
         calendarBox.appendChild(date);


         document.body.appendChild(titleBox);
         document.body.appendChild(calendarBox);

         /* TODO:
         Beautify.
          */
      </script>
   </body>
</html>

